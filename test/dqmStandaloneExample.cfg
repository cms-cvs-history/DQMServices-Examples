process test = {

    untracked PSet maxEvents = {untracked int32 input = 28000}

    source = EmptySource {}

    # include this to get DQM histogramming services
    include "DQMServices/Core/data/DQM.cfg"

    # optionally replace defaults in DQMStore and DQM  
    replace DQMStore.verbose = 1
    // replace DQMStore.referenceFileName = "ref.root"

    replace DQM.collectorHost = "lxplus234.cern.ch"
    replace DQM.collectorPort = 9190
    # replace DQM.publishFrequency = 5
    # replace DQM.debug = false


    # DQM Source program 
    # code in DQMServices/Daemon/src/DQMSourceExample.cc

    module dqmSource = DQMSourceExample {

	# Base name for monitor folders and output file		
        untracked string monitorName = "YourSubsystemName"
	# Operate every N events (default: -1 no prescale)
	untracked int32 prescaleEvt  = 1
	# Operate every N lumi sections
	untracked int32 prescaleLS   = 1
    }


    # run the quality tests as defined in QualityTests.xml

    module qTester = QualityTester {

      # default is 1
      untracked int32 prescaleFactor = 1

      # use eventloop for testing only ! default is false
      untracked bool testInEventloop = true

      # use qtest on endRun or endJob
      # untracked bool qtestOnEndRun = false
      # untracked bool qtestOnEndJob = false

      untracked FileInPath qtList = "DQMServices/Examples/test/QualityTests.xml"
    }


    #########################################################
    #### BEGIN DQM Online Environment #######################
    #########################################################
    
    #### PUT THE FOLLOWING INTO YOUR PATH FOR OPERATION AT P5
    #### REPLACE YourSubsystemName by the name of your source ###
    
    # use include file for dqmEnv dqmSaver

       include "DQMServices/Components/data/DQMEnvironment.cfi"

       # Possible conventions are "Online", "Offline" and "RelVal".
       # Default is "Offline"
       replace dqmSaver.convention = "Online"
       // replace dqmSaver.workflow   = ""
       replace dqmSaver.dirName    = "."
       // replace dqmSaver.dirName    = "/tmp/markusm/dqmdata"

       # This is the filename prefix 
       replace dqmSaver.producer   = "DQM"

       # (this goes into the foldername)
       replace dqmEnv.subSystemFolder = "YourSubsystemName"

       # Ignore run number for MC data
       // replace dqmSaver.forceRunNumber = -1

       # optionally change fileSaving  conditions
       // replace dqmSaver.saveByLumiSection = -1
       // replace dqmSaver.saveByMinute      = -1
       // replace dqmSaver.saveByEvent       = -1
       // replace dqmSaver.saveByRun         =  1
       // replace dqmSaver.saveAtJobEnd      = false
       # will add switch to select histograms to be saved soon

    #########################################################
    #### END ################################################
    #########################################################

    ### FIX YOUR  PATH TO INCLUDE dqmEnv and dqmSaver

    path p = { dqmSource & qTester & dqmEnv & dqmSaver }

}
